# üî• @shtse8/fireschema-ts-client-runtime

[![npm version](https://badge.fury.io/js/%40shtse8%2Ffireschema-ts-client-runtime.svg)](https://badge.fury.io/js/%40shtse8%2Ffireschema-ts-client-runtime)

**Unlock Type-Safe Firestore for Your TypeScript Web & Node.js Apps!**

This package is the runtime core for TypeScript (Client SDK) code generated by [FireSchema](https://github.com/shtse8/FireSchema), the powerful tool that brings strong typing to your Firestore interactions.

## Tired of Firestore Boilerplate & Runtime Errors?

Working directly with the `firebase` SDK often involves:

-   Manual type casting (`as UserData`).
-   Risk of typos in field names (`'emial'` instead of `'email'`).
-   Repetitive `fromJson`/`toJson` logic.
-   Lack of compile-time checks for queries and updates.

This leads to fragile code and hard-to-debug runtime errors.

## FireSchema + This Runtime = TypeScript Firestore Bliss ‚ú®

**FireSchema** generates type-safe data models, collection references, query builders, and update builders based on your JSON Schema definition.

This **`@shtse8/fireschema-ts-client-runtime`** package provides the essential base classes and helper functions that the generated code relies on. It seamlessly integrates with the official `firebase` SDK (v9+ modular).

**Benefits:**

-   **üîí Ironclad Type Safety:** Catch errors at compile time, not runtime.
-   **üöÄ Boost Productivity:** Write less boilerplate, focus on your app logic. Autocompletion for fields, queries, and updates.
-   **‚úÖ Fewer Bugs:** Eliminate errors caused by typos or incorrect data structures.
-   **ü§ù Smooth Collaboration:** A shared schema ensures consistency across your team.
-   **üåê Ideal For:** React, Vue, Angular, Svelte, Node.js clients, and any TypeScript project using the Firebase Client SDK.

## Installation

This package is intended to be used with code generated by the main `fireschema` tool. You need to install both this runtime and the `firebase` SDK in your project:

```bash
npm install @shtse8/fireschema-ts-client-runtime firebase
# or
yarn add @shtse8/fireschema-ts-client-runtime firebase
# or
pnpm add @shtse8/fireschema-ts-client-runtime firebase
```

## Usage

You typically won't interact with this package directly. Instead, you'll use the classes generated by the `fireschema` CLI tool, which depend on this runtime.

**Example (using generated code):**

```typescript
import { firestore } from './_setup'; // Your initialized Firestore instance
import { UsersCollection } from './generated/firestore/users.collection'; // Generated by FireSchema
import { UserAddData } from './generated/firestore/users.types'; // Generated by FireSchema
import { serverTimestamp } from 'firebase/firestore'; // From Firebase SDK

const usersCollection = new UsersCollection(firestore); // Generated class uses this runtime

async function run() {
  const newUser: UserAddData = { displayName: 'TypeSafe User', email: 'safe@example.com' };
  const ref = await usersCollection.add(newUser); // Type-safe add!

  const user = await usersCollection.get(ref.id); // Type-safe get!
  console.log(user?.displayName);

  await usersCollection.update(ref.id)
    .setLastLogin(serverTimestamp()) // Type-safe update!
    .commit();
}
```

## Learn More!

This runtime is just one piece of the puzzle! To learn how to define your schema and generate code, visit the main FireSchema documentation:

**‚û°Ô∏è [Full FireSchema Documentation & Guides](https://shtse8.github.io/FireSchema/)**

---

*This package provides the runtime support for the `typescript-client` target in FireSchema.*